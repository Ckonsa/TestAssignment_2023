{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { map, switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/book.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ChangeBookComponent_form_1_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", book_r1.dueDate);\n  }\n}\nfunction ChangeBookComponent_form_1_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 11);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChangeBookComponent_form_1_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", book_r1.comment);\n  }\n}\nfunction ChangeBookComponent_form_1_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 13);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChangeBookComponent_form_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 2);\n    i0.ɵɵlistener(\"ngSubmit\", function ChangeBookComponent_form_1_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.changeBook());\n    });\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 3);\n    i0.ɵɵelementStart(4, \"label\");\n    i0.ɵɵtext(5, \"Author\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 4);\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"Genre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 5);\n    i0.ɵɵelementStart(10, \"label\");\n    i0.ɵɵtext(11, \"Year\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 6);\n    i0.ɵɵelementStart(13, \"label\");\n    i0.ɵɵtext(14, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 7);\n    i0.ɵɵelementStart(16, \"label\");\n    i0.ɵɵtext(17, \"Due date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, ChangeBookComponent_form_1_div_18_Template, 2, 1, \"div\", 8);\n    i0.ɵɵtemplate(19, ChangeBookComponent_form_1_div_19_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelementStart(20, \"label\");\n    i0.ɵɵtext(21, \"Comment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, ChangeBookComponent_form_1_div_22_Template, 2, 1, \"div\", 8);\n    i0.ɵɵtemplate(23, ChangeBookComponent_form_1_div_23_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelement(24, \"input\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.changeBookForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", book_r1.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", book_r1.author);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", book_r1.genre);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", book_r1.year);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", book_r1.status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", book_r1.dueDate !== null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", book_r1.dueDate === null);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", book_r1.comment !== null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", book_r1.comment === null);\n  }\n}\nexport let ChangeBookComponent = /*#__PURE__*/(() => {\n  class ChangeBookComponent {\n    constructor(route, bookService) {\n      this.route = route;\n      this.bookService = bookService;\n      this.changeBookForm = new FormGroup({\n        title: new FormControl('', Validators.required),\n        author: new FormControl('', Validators.required),\n        genre: new FormControl('', Validators.required),\n        year: new FormControl('', Validators.required)\n      });\n    }\n    ngOnInit() {\n      this.book$ = this.route.params.pipe(map(params => params.id)).pipe(switchMap(id => this.bookService.getBook(id)));\n    }\n    changeBook() {\n      const book = {\n        id: null,\n        name: this.changeBookForm.value.title,\n        author: this.changeBookForm.value.author,\n        genre: this.changeBookForm.value.genre,\n        year: Number(this.changeBookForm.value.year),\n        added: new Date().toString().slice(0, 10),\n        checkOutCount: 0,\n        status: 'AVAILABLE',\n        dueDate: null,\n        comment: null\n      };\n      this.bookService.saveBook(book);\n    }\n  }\n  ChangeBookComponent.ɵfac = function ChangeBookComponent_Factory(t) {\n    return new (t || ChangeBookComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.BookService));\n  };\n  ChangeBookComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChangeBookComponent,\n    selectors: [[\"app-change-book\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[1, \"container\", \"mat-elevation-z4\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"title\", 3, \"value\"], [\"type\", \"text\", \"formControlName\", \"author\", 3, \"value\"], [\"type\", \"text\", \"formControlName\", \"genre\", 3, \"value\"], [\"type\", \"text\", \"formControlName\", \"year\", 3, \"value\"], [\"type\", \"text\", \"formControlName\", \"status\", 3, \"value\"], [4, \"ngIf\"], [\"type\", \"submit\", \"value\", \"SAVE\"], [\"type\", \"text\", \"formControlName\", \"dueDate\", 3, \"value\"], [\"type\", \"text\", \"formControlName\", \"dueDate\"], [\"type\", \"text\", \"formControlName\", \"comment\", 3, \"value\"], [\"type\", \"text\", \"formControlName\", \"comment\"]],\n    template: function ChangeBookComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, ChangeBookComponent_form_1_Template, 25, 10, \"form\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx.book$));\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i3.AsyncPipe],\n    styles: [\".container[_ngcontent-%COMP%]{max-width:1024px;margin:3em auto;padding:2em}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;margin-top:6px;margin-bottom:16px;resize:vertical}input[type=submit][_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;padding:12px 20px;border:none;border-radius:4px;cursor:pointer}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}\"]\n  });\n  return ChangeBookComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}